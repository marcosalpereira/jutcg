package br.gov.esaf.sgc.business.impl;

import javax.ejb.EJB;
import javax.ejb.Stateless;
import br.gov.esaf.sgc.dao.CampoAtuacaoDao;
import br.gov.esaf.sgc.model.Cargo;
import static org.easymock.EasyMock.*;
import org.junit.*;
import java.util.*;
import static org.junit.Assert.*;

/**
 * Testes unitarios para a classe {@link CampoAtuacaoBusinessBean}.
 */
public class TestCampoAtuacaoBusinessBean  {

/**
 * Classe sendo testada {@link CampoAtuacaoBusinessBean}.
 */
private CampoAtuacaoBusinessBean campoAtuacaoBusinessBean;

/**
 * Cria o mock {@link CampoAtuacaoDao} e seta na classe sendo testada.
 * @return o mock criado
 */
private CampoAtuacaoDao criarMockCampoAtuacaoDao() {
  CampoAtuacaoDao mock = createStrictMock(CampoAtuacaoDao.class);
  campoAtuacaoBusinessBean.setCampoAtuacaoDao(mock);
  return mock;
}

/** Configuracoes iniciais. */
@Before
public void setUp() {
  campoAtuacaoBusinessBean = new CampoAtuacaoBusinessBean();
}

/**
 * Teste para o metodo {@link CampoAtuacaoBusinessBean#alterarSituacaoDosCamposDeAtuacaoDoCargo(Cargo)}.
 * Descricao do Fluxo: 
 *     Entra: if (campoAtuacaoDao.existe(cargo)) {.
 */
@Test
public void testAlterarSituacaoDosCamposDeAtuacaoDoCargoPath1() {
// variaveis usadas
final Cargo cargo = new Cargo(1);

// Configurando mock
CampoAtuacaoDao campoAtuacaoDao = criarMockCampoAtuacaoDao();
expect(campoAtuacaoDao.existe(cargo))
  .andReturn(true);
campoAtuacaoDao.alterar(cargo);
replay(campoAtuacaoDao);

// invocar metodo sendo testado
campoAtuacaoBusinessBean.alterarSituacaoDosCamposDeAtuacaoDoCargo(cargo);

// checar estados dos mocks
verify(campoAtuacaoDao);
}

/**
 * Teste para o metodo {@link CampoAtuacaoBusinessBean#alterarSituacaoDosCamposDeAtuacaoDoCargo(Cargo)}.
 * Descricao do Fluxo: 
 * NAO Entra: if (campoAtuacaoDao.existe(cargo)) {.
 */
@Test
public void testAlterarSituacaoDosCamposDeAtuacaoDoCargoPath2() {
// variaveis usadas
final Cargo cargo = new Cargo(1);

// Configurando mock
CampoAtuacaoDao campoAtuacaoDao = criarMockCampoAtuacaoDao();
expect(campoAtuacaoDao.existe(cargo))
  .andReturn(false);
campoAtuacaoDao.inserir(cargo);
replay(campoAtuacaoDao);

// invocar metodo sendo testado
campoAtuacaoBusinessBean.alterarSituacaoDosCamposDeAtuacaoDoCargo(cargo);

// checar estados dos mocks
verify(campoAtuacaoDao);
}
}
